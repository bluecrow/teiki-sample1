<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8">
<title>継続画面 - 四本目の剣(4thSword)</title>
<link rel="stylesheet" href="default.css">
<style>
.mini1 { width: 40px; }
.mini2 { width: 80px; }
.mini3 { width: 120px; }
th, td { border: 1px gray solid }
</style>
<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
</head>
<body>
<h1>継続画面 - 四本目の剣(4thSword)</h1>
<div style="color: red">現在開発中です</div>
<img src="logo1.png" /><br>
<form id="login" action="login.html" method="post">
<a href="index.html">新規登録はこちら</a>　
<a href="chara_list.html">キャラクターリストはこちら</a>
<h2>ログインボタン</h2>
Eno.<input type="number" min="1" value="" class="mini2">
Password<input type="password" value="" class="mini3">
<input id="login_button" type="button" value="ログイン">
</form>
<div id="otsukare" style="display: none; font-size: 24px;">
<br><br>
宣言完了です。お疲れ様でした。
</div> 
<form id="sengen" action="login.html" method="post" style="display: none;">
<h2>宣言ボタン</h2>
<input class="sengen" type="button" value="宣言する">
<h2>日記</h2>
<textarea cols="80" rows="5" id="diary_input"></textarea>
<h2>日記のプレビュー</h2>
<pre id="diary_preview"></pre>
<h2>剣の選択</h2>
■一試合目<br>
壱の剣 <input id="sword1-1" name="sword1-1" type="number" min="0" max="20" class="mini1">
　
弐の剣 <input id="sword1-2" name="sword1-2" type="number" min="0" max="20" class="mini1">
<br>
参の剣 <input id="sword1-3" name="sword1-3" type="number" min="0" max="20" class="mini1">
　
死の剣 <input id="sword1-4" name="sword1-4" type="number" min="0" max="20" class="mini1">
　
合計 <span id="swordsum1">0</span><br>
■二試合目<br>
壱の剣 <input id="sword2-1" name="sword2-1" type="number" min="0" max="20" class="mini1">
　
弐の剣 <input id="sword2-2" name="sword2-2" type="number" min="0" max="20" class="mini1">
<br>
参の剣 <input id="sword2-3" name="sword2-3" type="number" min="0" max="20" class="mini1">
　
死の剣 <input id="sword2-4" name="sword2-4" type="number" min="0" max="20" class="mini1">
　
合計 <span id="swordsum2">0</span><br>
■三試合目<br>
壱の剣 <input id="sword3-1" name="sword3-1" type="number" min="0" max="20" class="mini1">
　
弐の剣 <input id="sword3-2" name="sword3-2" type="number" min="0" max="20" class="mini1">
<br>
参の剣 <input id="sword3-3" name="sword3-3" type="number" min="0" max="20" class="mini1">
　
死の剣 <input id="sword3-4" name="sword3-4" type="number" min="0" max="20" class="mini1">
　
合計 <span id="swordsum3">0</span><br>
<h2>宣言ボタン</h2>
<input class="sengen2" type="button" value="宣言する"><br>
</form>
<br>
<br>
<br>
剣士ギル、罪科持ち（ギルティー）のギルが4本の剣を操っているイメージイラスト<br>
<img src="4th_sword.png" alt="剣士ギル、罪科持ち（ギルティー）のギルが4本の剣を操っているイメージイラスト">
<script>
function toNum(n) {
  return n ? parseInt(n) : 0;
}
function calc() {
  console.log('calc');
  //パワーと名前を更新
  for (var c = 1; c <= 3; c++) {
    for (var i = 1; i <= 4; i++) {
      var name = '#sword'+c+'-'+i;
    }
  }
  //合計値を更新
  var sum1 = toNum($('#sword1-1').val()) + toNum($('#sword1-2').val()) + toNum($('#sword1-3').val()) + toNum($('#sword1-4').val());
  $('#swordsum1').text(sum1 ? sum1 : 0);
  var sum2 = toNum($('#sword2-1').val()) + toNum($('#sword2-2').val()) + toNum($('#sword2-3').val()) + toNum($('#sword2-4').val());
  $('#swordsum2').text(sum2 ? sum2 : 0);
  var sum3 = toNum($('#sword3-1').val()) + toNum($('#sword3-2').val()) + toNum($('#sword3-3').val()) + toNum($('#sword3-4').val());
  $('#swordsum3').text(sum3 ? sum3 : 0);
}
function changeDiary() {
  $('#diary_preview').text($('#diary_input').val());
}
$(function() {
  //テキストボックスに変更を加えたら再計算
  $('input[type="number"]').on('change keyup paste', function() {
    calc();
  });
  //ログインボタンを押したら宣言画面を表示
  $('#login_button').on('click', function() {
    $('#login').hide();
    $('#otsukare').hide();
    $('#sengen').show();
  });
  $('.sengen').on('click', function() {
    $('#login').show();
    $('#otsukare').show();
    $('#sengen').hide();
  });
  //日記のプレビュー
  $('#diary_input').on('change keypress keyup', function() {
    changeDiary();
  });
});
</script>
</body>
</html>